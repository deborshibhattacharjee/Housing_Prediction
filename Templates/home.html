{% extends "layout.html" %}

{% block content %}
<div class="container" style="margin-top: 50px;">
    <div class="card border border-dark shadow-lg p-3 mb-5" style="background-color: rgba(18, 23, 24, 0.2)">
        <div class="card-header text-left">
            <h4 style="font-family:Helvetica;"><b>Predict Housing Prices For California State</b></h4>
        </div>
        <div class="card-body shadow-lg p-3 mb-5">
            <div class="row">
                <div class="col-md-8">
                    <div class="card border border-dark shadow-lg p-3 mb-5" style="background-color: rgba(18, 23, 24, 0.2);">
                        <div class="card-header text-left"><h5 style="font-family:Helvetica;"><b>District Housing Price Data Input</b></h5></div>
                        <form id="inputForm" name="inputForm">
                        <div class="card-body shadow-lg p-3 mb-5">                            
                            <div class="row p-4">
                                <div class="col-md-3 p-2">
                                    <label style="font-family:Helvetica;" class="control-label"><b>Longitude</b></label>
                                </div>
                                <div class="col-md-9">
                                    <input class="form-control border border-dark shadow-lg" style="background-color: rgba(232, 236, 236, 0.336); font-weight: bold;" type="number" name="longitude" id="" value = "0" step="any">
                                    <div class="invalid-feedback">
                                        Required Field.
                                    </div>
                                </div>
                            </div>
                            <div class="row p-4">
                                <div class="col-md-3 p-2">
                                    <label style="font-family:Helvetica;" class="control-label"><b>Latitude</b></label>
                                </div>
                                <div class="col-md-9">
                                    <input class="form-control border border-dark shadow-lg" style="background-color: rgba(232, 236, 236, 0.336); font-weight: bold" type="number" name="latitude" id="" value = "0" step="any">
                                </div>
                            </div>
                            <div class="row p-4">
                                <div class="col-md-3 p-2">
                                    <label style="font-family:Helvetica;" class="control-label"><b>House Median Age</b></label>
                                </div>
                                <div class="col-md-9">
                                    <input class="form-control border border-dark shadow-lg" style="background-color: rgba(232, 236, 236, 0.336); font-weight: bold" type="number" name="housing_median_age" id="" value = "0" step="any">
                                </div>
                            </div>
                            <div class="row p-4">
                                <div class="col-md-3 p-2">
                                    <label style="font-family:Helvetica;" class="control-label"><b>Total Rooms</b></label>
                                </div>
                                <div class="col-md-9">
                                    <input class="form-control border border-dark shadow-lg" style="background-color: rgba(232, 236, 236, 0.336); font-weight: bold" type="number" name="total_rooms" id="" value = "0" step="any">
                                </div>
                            </div>
                            <div class="row p-4">
                                <div class="col-md-3 p-2">
                                    <label style="font-family:Helvetica;" class="control-label"><b>Bedrooms</b></label>
                                </div>
                                <div class="col-md-9">
                                    <input class="form-control border border-dark shadow-lg" style="background-color: rgba(232, 236, 236, 0.336); font-weight: bold" type="number" name="total_bedrooms" id="" value = "0" step="any">
                                </div>
                            </div>
                            <div class="row p-4">
                                <div class="col-md-3 p-2">
                                    <label style="font-family:Helvetica;" class="control-label"><b>District Population</b></label>
                                </div>
                                <div class="col-md-9">
                                    <input class="form-control border border-dark shadow-lg" style="background-color: rgba(232, 236, 236, 0.336); font-weight: bold" type="number" name="population" id="" value = "0" step="any">
                                </div>
                            </div>
                            <div class="row p-4">
                                <div class="col-md-3 p-2">
                                    <label style="font-family:Helvetica;" class="control-label"><b>Total Households</b></label>
                                </div>
                                <div class="col-md-9">
                                    <input class="form-control border border-dark shadow-lg" style="background-color: rgba(232, 236, 236, 0.336); font-weight: bold" type="number" name="households" id="" value = "0" step="any">
                                </div>
                            </div>
                            <div class="row p-4">
                                <div class="col-md-3 p-2">
                                    <label style="font-family:Helvetica;" class="control-label"><b>Median Income</b></label>
                                </div>
                                <div class="col-md-9">
                                    <input class="form-control border border-dark shadow-lg" style="background-color: rgba(232, 236, 236, 0.336); font-weight: bold" type="number" name="median_income" id="" value = "0" step="any">
                                </div>
                            </div>
                            <div class="row p-4">
                                <div class="col-md-3 p-2">
                                    <label style="font-family:Helvetica;" class="control-label"><b>Proximity</b></label>
                                </div>
                                <div class="col-md-9">
                                    <select class="custom-select border border-dark shadow-lg" style="background-color: rgba(232, 236, 236, 0.336); font-weight: bold" required name="ocean_proximity" id="">
                                        <option value="">Select Proximity</option>
                                        <option value="1"><b><1H OCEAN</b></option>
                                        <option value="2"><b>INLAND</b></option>
                                        <option value="3"><b>NEAR OCEAN</b></option>
                                        <option value="4"><b>NEAR BAY</b></option>
                                      </select>
                                </div>
                            </div>
                            <div class="card-footer text-center">
                                <button type = "button" class="btn btn-info" onclick="getResult(); inputForm.reset();" value = "submit" style="cursor: pointer; font-family:Helvetica;">Predict</button>
                            </div>
                        </div>
                    </form>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card border border-dark shadow-lg p-3 mb-5" style="background-color: rgba(232, 236, 236, 0.336);">
                    <div class="card-header text-left"><h5 style="font-family:Helvetica;"><b>Prediction Result</b></h5></div>
                    <div class="card-body">
                        <div class="row text-center p-3">
                        <span style="color:black; font-family:Helvetica;"><b><p id="result"></p></b></span>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function getResult(){
        $("#progressBar").modal('show')
        $.ajax({
           type: "POST",
           url: "{{url_for('getResponseModel')}}",
           data: $("#inputForm").serialize(), // serializes the form's elements.
           success: function(data)
           {
              $("#result").html(data); 
           },complete:function()
           {
            $("#progressBar").modal('hide')
           }
         });
    }
</script>

{% endblock %}